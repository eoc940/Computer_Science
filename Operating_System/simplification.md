## 단편화

#### 외부 단편화(external fragmentation)
- 프로그램의 크기보다 분할의 크기가 작은 경우, 해당 분할이 비어있음에도 불구하고 프로그램을 적재하지 못하여
발생하는 메모리 공간이다
- 어떤 프로그램에도 배당되지 않은 빈 공간임에도 현재 상태에서 사용될 수 없는 작은 분할이다

#### 내부 단편화(internal fragmentation)
- 프로그램의 크기보다 분할의 크기가 큰 경우, 해당 분할에 프로그램을 적재하고 남는 메모리 공간을 말한다
- 즉, 하나의 분할 내부에서 발생하는 사용되지 않은 메모리 조각이다
- ex) 메모리 자유 분할 공간이 10000byte가 있고 프로세스 A가 9999byte를 사용하게 되면 1byte가 남게 된다.
이러한 현상을 내부 단편화라 한다

#### 압축(compaction)
- 외부 단편화를 해소하기 위해 프로세스가 사용하는 공간들을 한쪽으로 몰아, 자유 공간을 확보한다
- 단점 : 작업 효율이 좋지 않다

외부 단편화와 압축 잡업을 해소하기 위해 생긴 방법론으로 paging이 있다. 물리 메모리는 Frame이라는 고정 크기로 분리되어 있고, 논리 메모리(프로세스가 점유하는)는 페이지는 고정 크기의 블록으로 분리된다(페이지 교체 알고리즘에 들어가는 페이지). 페이징 기법을 사용함으로써 논리 메모리는 물리 메모리에 저장될 때, 연속되어 저장될 필요가 없고 물리 메모리의 남는 프레임에 적절히 배치됨으로 외부 단편화를 해결할 수 있는 큰 장점이 있다

#### Swapping
- 메모리에 올라온 프로세스의 주소 공간 전체를 디스크의 스왑 영역으로 일시적으로 내려놓는 것이다. 메모리 공간을
확보하면 이후에 다른 프로세스의 메모리를 불러들일 수 있다
- 주의할 점은 프로세스가 종료되어 주소 공간을 디스크로 내쫓는 것이 아니라 특정한 이유로 수행중인 프로세스의
주소공간을 일시적으로 메모리에서 디스크로 내려놓은 것을 의미한다
  - 스왑인 : 디스크 -> 메모리
  - 스왑아웃 : 메모리 -> 디스크

표준 Swapping 방식으로는 round-robin과 같은 스케줄링의 다중 프로그래밍 환경에서 CPU 할당 시간이 끝난 프로세스의 메모리를 보조기억장치(ex. 하드디스크)로 내보내고 다른 프로세스의 메모리를 불러들일 수 있다. 이 과정을 swap이라 한다. swap에는 큰 디스크 전송시간이 필요하기 때문에 현재에는 메모리 공간이 부족할 때 Swapping이 시작된다.

#### 연속 할당 방식
- 각각의 프로세스를 물리적 메모리의 연속적인 공간에 올리는 방식
  1. 고정 분할 방식
      - 물리적 메모리를 주어진 개수만큼의 영구적인 분할로 미리 나누고 각 분할에 하나의 프로세스를 적재하여 실행시키는 방식
      - 단편화 문제 발생
  2. 가변 분할 방식
      - 메모리에 적재되는 프로그램의 크기에 따라 분할의 크기, 개수가 동적으로 변하는 방식
      - 외부 단편화 발생

#### 불연속 할당 방식
- 하나의 프로세스를 물리적 메모리의 여러 영역에 분산하여 적재하는 방식
  1. 페이징
      - 프로세스를 동일한 크기의 페이지로 나눈다
      - 내부 단편화 문제
  2. 세그멘테이션
      - 프로세스를 서로 다른 크기의 논리적 블록 단위인 세그멘테이션으로 나눈다
      - 외부 단편화 문제






























